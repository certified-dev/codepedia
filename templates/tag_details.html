{% extends "main.html" %}

{% load static humanize %}

{% block title %}code | Tag{% endblock title %}

{% block content %}

 <div class="container mb-2 p-2" style="border:1px solid lightgray;">
   <div class="row pl-2 pr-2">
   
     <div class="col-12">
         <a href="{% url 'tag_question' tag.pk %}" class="badge badge-info badge-pill">{{ tag }}</a>
     </div>

     <div class="col-12 bg-light border-left-0 border-right-0 mt-1" style="border:1px solid lightgray;">
        <small class="">{{ tag.description }}</small>
     </div>

   </div>
 </div> 

{% for question in tag.question_tags.all reversed %}

   <div class="container mb-1 pt-1 pb-1 pl-3" style="border:1px solid lightgray;">
        <div class="row">

        <div class="col-12">
          <small><b><a href="{% url 'question_detail' question.pk question.slug %}">{{ question.title }}</a></b></small>
         </div>

         <div class="col-12">
            {% for tag in question.tags.all %}
             <small><a href="{% url 'tag_question' tag.pk %}" class="badge badge-info badge-pill">{{ tag }}</a></small>
            {% endfor %}
         </div> 

        <div class="col-12">
             <small>
                <b>posted by: </b><a href="">{{ question.asked_by }}</a>
                <span class="text-secondary">|</span>
                <span>{{ question.posted_on|naturaltime}}</span>

                <div class="float-right">
                <span class="mr-2">views {{ question.views }}</span>
                <span class="mr-2">answers {{ question.answers.count|default_if_none:"0" }}</span>
                <span class="mr-2">points {{ question.points }}</span>
                </div>
             </small>
           </div>
       
        </div>
      </div>
{% empty %}
     <div class="container text-center p-4" style="border:1px solid lightgray;">
      <small><span class="font-italic font-weight-bold">no questions has been tagged yet...</span></small>
      <br>
      <a  href="{% url 'ask_question' %}" class="btn btn-sm btn-primary m-2">Add a question</a>
    </div> 
{% endfor %}

{% endblock %}


